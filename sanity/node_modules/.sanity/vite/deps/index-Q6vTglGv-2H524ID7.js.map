{
  "version": 3,
  "sources": ["../../../sanity/src/structure/panes/list/ListPaneHeader.tsx", "../../../sanity/src/structure/panes/list/ListPaneContent.tsx", "../../../sanity/src/structure/panes/list/ListPane.tsx"],
  "sourcesContent": ["import {ArrowLeftIcon} from '@sanity/icons'\nimport React from 'react'\nimport {BackLink, PaneHeader, PaneHeaderActions, usePane} from '../../components'\nimport {Button} from '../../../ui-components'\nimport {PaneMenuItem, PaneMenuItemGroup} from '../../types'\nimport {useStructureTool} from '../../useStructureTool'\n\ninterface ListPaneHeaderProps {\n  index: number\n  menuItems?: PaneMenuItem[]\n  menuItemGroups?: PaneMenuItemGroup[]\n  title: string\n}\n\nexport const ListPaneHeader = ({index, menuItems, menuItemGroups, title}: ListPaneHeaderProps) => {\n  const {features} = useStructureTool()\n  const {collapsed, isLast} = usePane()\n  // Prevent focus if this is the last (non-collapsed) pane.\n  const tabIndex = isLast && !collapsed ? -1 : 0\n\n  return (\n    <PaneHeader\n      actions={<PaneHeaderActions menuItems={menuItems} menuItemGroups={menuItemGroups} />}\n      backButton={\n        features.backButton &&\n        index > 0 && (\n          <Button\n            as={BackLink}\n            data-as=\"a\"\n            icon={ArrowLeftIcon}\n            mode=\"bleed\"\n            tooltipProps={{content: 'Back'}}\n          />\n        )\n      }\n      tabIndex={tabIndex}\n      title={title}\n    />\n  )\n}\n", "import React, {useCallback} from 'react'\nimport {Box} from '@sanity/ui'\nimport styled from 'styled-components'\nimport {PaneContent, PaneItem, usePaneLayout} from '../../components'\nimport {PaneListItem, PaneListItemDivider} from '../../types'\nimport {CommandList, CommandListItemContext, GeneralPreviewLayoutKey, useGetI18nText} from 'sanity'\n\ninterface ListPaneContentProps {\n  childItemId?: string\n  isActive?: boolean\n  items: (PaneListItem<unknown> | PaneListItemDivider)[] | undefined\n  layout?: GeneralPreviewLayoutKey\n  showIcons: boolean\n  title: string\n}\n\nconst Divider = styled.hr`\n  background-color: var(--card-border-color);\n  height: 1px;\n  margin: 0;\n  border: none;\n`\n\n/**\n * @internal\n */\nexport function ListPaneContent(props: ListPaneContentProps) {\n  const {childItemId, items, isActive, layout, showIcons, title} = props\n  const {collapsed: layoutCollapsed} = usePaneLayout()\n  const getI18nText = useGetI18nText(\n    items?.filter(\n      (item): item is Exclude<typeof item, {type: 'divider'}> => item.type !== 'divider',\n    ),\n  )\n\n  const getItemDisabled = useCallback(\n    (itemIndex: number) => {\n      return items?.find((_, i) => i === itemIndex)?.type === 'divider'\n    },\n    [items],\n  )\n\n  const shouldShowIconForItem = useCallback(\n    (item: PaneListItem): boolean => {\n      const itemShowIcon = item.displayOptions?.showIcon\n\n      // Specific true/false on item should have precedence over list setting\n      if (typeof itemShowIcon !== 'undefined') {\n        return itemShowIcon !== false // Boolean(item.icon)\n      }\n\n      // If no item setting is defined, defer to the pane settings\n      return showIcons !== false // Boolean(item.icon)\n    },\n    [showIcons],\n  )\n\n  const renderItem = useCallback(\n    (item: PaneListItem<unknown> | PaneListItemDivider, ctx: CommandListItemContext) => {\n      const {virtualIndex: itemIndex} = ctx\n\n      if (item.type === 'divider') {\n        return (\n          // eslint-disable-next-line react/no-array-index-key\n          <Box key={`divider-${itemIndex}`} marginBottom={1}>\n            <Divider />\n          </Box>\n        )\n      }\n\n      const pressed = !isActive && childItemId === item.id\n      const selected = isActive && childItemId === item.id\n      // If this is a document list item, pass on the ID and type,\n      // otherwise leave it undefined to use the passed title and gang\n      const value =\n        item._id && item.schemaType\n          ? {_id: item._id, _type: item.schemaType.name, title: item.title}\n          : undefined\n\n      return (\n        <PaneItem\n          icon={shouldShowIconForItem(item) ? item.icon : false}\n          id={item.id}\n          key={item.id}\n          layout={layout}\n          marginBottom={1}\n          pressed={pressed}\n          schemaType={item.schemaType}\n          selected={selected}\n          title={getI18nText(item).title}\n          value={value}\n        />\n      )\n    },\n    [childItemId, getI18nText, isActive, layout, shouldShowIconForItem],\n  )\n\n  return (\n    <PaneContent overflow={layoutCollapsed ? 'hidden' : 'auto'}>\n      {items && items.length > 0 && (\n        <CommandList\n          activeItemDataAttr=\"data-hovered\"\n          ariaLabel={title}\n          canReceiveFocus\n          getItemDisabled={getItemDisabled}\n          itemHeight={51}\n          items={items}\n          onlyShowSelectionWhenActive\n          paddingBottom={1}\n          paddingX={3}\n          renderItem={renderItem}\n          wrapAround={false}\n        />\n      )}\n    </PaneContent>\n  )\n}\n", "import React from 'react'\nimport {Card, Code} from '@sanity/ui'\nimport {Pane} from '../../components'\nimport {BaseStructureToolPaneProps} from '../types'\nimport {_DEBUG} from '../../constants'\nimport {ListPaneHeader} from './ListPaneHeader'\nimport {ListPaneContent} from './ListPaneContent'\nimport {useI18nText} from 'sanity'\n\ntype ListPaneProps = BaseStructureToolPaneProps<'list'>\n\n/**\n * @internal\n */\nexport function ListPane(props: ListPaneProps) {\n  const {childItemId, index, isActive, isSelected, pane, paneKey} = props\n\n  const {defaultLayout, displayOptions, items, menuItems, menuItemGroups} = pane\n  const showIcons = displayOptions?.showIcons !== false\n  const {title} = useI18nText(pane)\n\n  return (\n    <Pane\n      currentMaxWidth={350}\n      data-testid=\"structure-tool-list-pane\"\n      data-ui=\"ListPane\"\n      id={paneKey}\n      maxWidth={640}\n      minWidth={320}\n      selected={isSelected}\n    >\n      {_DEBUG && (\n        <Card padding={4} tone=\"transparent\">\n          <Code>{pane.source || '(none)'}</Code>\n        </Card>\n      )}\n\n      <ListPaneHeader\n        index={index}\n        menuItems={menuItems}\n        menuItemGroups={menuItemGroups}\n        title={title}\n      />\n\n      <ListPaneContent\n        childItemId={childItemId}\n        isActive={isActive}\n        items={items}\n        layout={defaultLayout}\n        key={paneKey}\n        showIcons={showIcons}\n        title={title}\n      />\n    </Pane>\n  )\n}\n"],
  "mappings": "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",
  "names": ["ListPaneHeader", "_ref", "index", "menuItems", "menuItemGroups", "title", "features", "useStructureTool", "collapsed", "isLast", "usePane", "tabIndex", "jsx", "PaneHeader", "actions", "PaneHeaderActions", "backButton", "Button", "as", "BackLink", "icon", "ArrowLeftIcon", "mode", "tooltipProps", "content", "_a", "Divider", "styled", "hr", "__template", "ListPaneContent", "props", "childItemId", "items", "isActive", "layout", "showIcons", "layoutCollapsed", "usePaneLayout", "getI18nText", "useGetI18nText", "filter", "item", "type", "getItemDisabled", "useCallback", "itemIndex", "find", "_", "i", "shouldShowIconForItem", "itemShowIcon", "displayOptions", "showIcon", "renderItem", "ctx", "virtualIndex", "Box", "marginBottom", "children", "concat", "pressed", "id", "selected", "value", "_id", "schemaType", "_type", "name", "PaneItem", "PaneContent", "overflow", "length", "CommandList", "activeItemDataAttr", "ariaLabel", "canReceiveFocus", "itemHeight", "onlyShowSelectionWhenActive", "paddingBottom", "paddingX", "wrapAround", "ListPane", "isSelected", "pane", "paneKey", "defaultLayout", "useI18nText", "jsxs", "Pane", "currentMaxWidth", "maxWidth", "minWidth", "_DEBUG"]
}
